2025-10-30 15:37:22,309 - task_1 - INFO - current path: D:\lesson workshop\BlockFednew\federation_core\saved_models/1_TEST SHAPLEY
2025-10-30 15:37:22,309 - task_1 - INFO - 联邦学习环境初始化完成 - 初始用户数: 0
2025-10-30 15:37:22,310 - task_1 - INFO - Loading data
2025-10-30 15:37:23,763 - task_1 - INFO - reading data done
2025-10-30 15:37:32,575 - task_1 - INFO - 加载数据块完成，共 500 个数据块
2025-10-30 15:37:32,575 - task_1 - INFO - 数据库中找到 100 个用户
2025-10-30 15:37:32,575 - task_1 - DEBUG - 用户 0 分配了数据块: [151, 408, 206, 24]
2025-10-30 15:37:32,575 - task_1 - DEBUG - 用户 1 分配了数据块: [241, 233, 273, 356, 131]
2025-10-30 15:37:32,575 - task_1 - DEBUG - 用户 2 分配了数据块: [305, 187]
2025-10-30 15:37:32,575 - task_1 - DEBUG - 用户 3 分配了数据块: [464, 162, 309, 182, 109, 283, 264, 134]
2025-10-30 15:37:32,576 - task_1 - DEBUG - 用户 4 分配了数据块: [232, 350, 208, 281, 467, 124, 491, 351, 280]
2025-10-30 15:37:32,576 - task_1 - DEBUG - 用户 5 分配了数据块: [179, 236, 145, 46, 492, 351, 407]
2025-10-30 15:37:32,576 - task_1 - DEBUG - 用户 6 分配了数据块: [248, 133, 83, 328, 439, 393, 476]
2025-10-30 15:37:32,576 - task_1 - DEBUG - 用户 7 分配了数据块: [103, 380, 189, 29, 318, 38]
2025-10-30 15:37:32,576 - task_1 - DEBUG - 用户 8 分配了数据块: [204, 69, 171, 203, 431, 331]
2025-10-30 15:37:32,576 - task_1 - DEBUG - 用户 9 分配了数据块: [359, 324, 358, 288, 139, 213, 288]
2025-10-30 15:37:32,576 - task_1 - DEBUG - 用户 10 分配了数据块: [499, 46, 83]
2025-10-30 15:37:32,576 - task_1 - DEBUG - 用户 11 分配了数据块: [234, 383, 103, 110, 35, 181, 295, 10]
2025-10-30 15:37:32,576 - task_1 - DEBUG - 用户 12 分配了数据块: [321, 129, 483, 197]
2025-10-30 15:37:32,576 - task_1 - DEBUG - 用户 13 分配了数据块: [171, 121, 42, 451, 316, 192, 410, 76, 403, 303]
2025-10-30 15:37:32,576 - task_1 - DEBUG - 用户 14 分配了数据块: [101, 61, 362, 69, 146, 374]
2025-10-30 15:37:32,576 - task_1 - DEBUG - 用户 15 分配了数据块: [280, 404, 218, 373, 415, 129, 406]
2025-10-30 15:37:32,576 - task_1 - DEBUG - 用户 16 分配了数据块: [79, 434, 475, 356, 192, 332, 151]
2025-10-30 15:37:32,576 - task_1 - DEBUG - 用户 17 分配了数据块: [388, 182, 183, 450]
2025-10-30 15:37:32,576 - task_1 - DEBUG - 用户 18 分配了数据块: [98, 341, 244]
2025-10-30 15:37:32,576 - task_1 - DEBUG - 用户 19 分配了数据块: [323, 276, 413, 480, 341]
2025-10-30 15:37:32,576 - task_1 - DEBUG - 用户 20 分配了数据块: [171, 174]
2025-10-30 15:37:32,576 - task_1 - DEBUG - 用户 21 分配了数据块: [141, 273, 192, 249]
2025-10-30 15:37:32,576 - task_1 - DEBUG - 用户 22 分配了数据块: [12, 357, 312, 211, 10, 186, 416, 472, 287]
2025-10-30 15:37:32,576 - task_1 - DEBUG - 用户 23 分配了数据块: [200, 186, 361, 387, 28, 117, 253, 94, 202]
2025-10-30 15:37:32,576 - task_1 - DEBUG - 用户 24 分配了数据块: [379, 120, 233]
2025-10-30 15:37:32,577 - task_1 - DEBUG - 用户 25 分配了数据块: [263, 443, 367, 17, 363, 265]
2025-10-30 15:37:32,577 - task_1 - DEBUG - 用户 26 分配了数据块: [182, 176, 216, 324, 118, 41, 194]
2025-10-30 15:37:32,577 - task_1 - DEBUG - 用户 27 分配了数据块: [307, 60, 292, 186, 356, 232]
2025-10-30 15:37:32,577 - task_1 - DEBUG - 用户 28 分配了数据块: [313, 394, 421, 227, 25, 46, 467, 458]
2025-10-30 15:37:32,577 - task_1 - DEBUG - 用户 29 分配了数据块: [478, 340, 381, 266, 15, 219]
2025-10-30 15:37:32,577 - task_1 - DEBUG - 用户 30 分配了数据块: [394, 158, 299, 218, 493, 469, 386, 165, 397]
2025-10-30 15:37:32,577 - task_1 - DEBUG - 用户 31 分配了数据块: [89, 153, 159, 394, 359, 325, 128, 456, 272]
2025-10-30 15:37:32,577 - task_1 - DEBUG - 用户 32 分配了数据块: [279, 340, 115]
2025-10-30 15:37:32,577 - task_1 - DEBUG - 用户 33 分配了数据块: [332, 438, 152, 353, 36]
2025-10-30 15:37:32,577 - task_1 - DEBUG - 用户 34 分配了数据块: [294, 357, 195]
2025-10-30 15:37:32,577 - task_1 - DEBUG - 用户 35 分配了数据块: [206, 39, 93]
2025-10-30 15:37:32,577 - task_1 - DEBUG - 用户 36 分配了数据块: [73, 161, 128, 309, 476, 128, 420, 12]
2025-10-30 15:37:32,577 - task_1 - DEBUG - 用户 37 分配了数据块: [72, 425, 334, 408]
2025-10-30 15:37:32,577 - task_1 - DEBUG - 用户 38 分配了数据块: [267, 105, 284, 237, 60, 25, 393, 356, 226, 221]
2025-10-30 15:37:32,577 - task_1 - DEBUG - 用户 39 分配了数据块: [300, 274, 213, 206, 295, 389, 51, 198, 343]
2025-10-30 15:37:32,577 - task_1 - DEBUG - 用户 40 分配了数据块: [151, 407, 357, 448, 175, 181, 365, 240, 347]
2025-10-30 15:37:32,577 - task_1 - DEBUG - 用户 41 分配了数据块: [63, 398, 196, 272, 53, 433, 202]
2025-10-30 15:37:32,577 - task_1 - DEBUG - 用户 42 分配了数据块: [223, 253, 217, 29, 28, 396, 228, 61, 167, 446]
2025-10-30 15:37:32,577 - task_1 - DEBUG - 用户 43 分配了数据块: [321, 413]
2025-10-30 15:37:32,577 - task_1 - DEBUG - 用户 44 分配了数据块: [42, 47, 447, 137, 377, 470]
2025-10-30 15:37:32,577 - task_1 - DEBUG - 用户 45 分配了数据块: [208, 288, 291, 236, 408]
2025-10-30 15:37:32,577 - task_1 - DEBUG - 用户 46 分配了数据块: [459, 465, 56, 46]
2025-10-30 15:37:32,577 - task_1 - DEBUG - 用户 47 分配了数据块: [450, 1, 197, 293, 51, 132, 491, 487, 368, 101]
2025-10-30 15:37:32,577 - task_1 - DEBUG - 用户 48 分配了数据块: [317, 157, 208, 344, 159]
2025-10-30 15:37:32,577 - task_1 - DEBUG - 用户 49 分配了数据块: [129, 334, 179, 106, 481]
2025-10-30 15:37:32,577 - task_1 - DEBUG - 用户 50 分配了数据块: [373, 215, 189, 32, 485, 261, 210, 154]
2025-10-30 15:37:32,577 - task_1 - DEBUG - 用户 51 分配了数据块: [446, 241, 472, 211, 329, 183, 18, 479]
2025-10-30 15:37:32,577 - task_1 - DEBUG - 用户 52 分配了数据块: [104, 396, 144, 175, 129, 40, 451]
2025-10-30 15:37:32,577 - task_1 - DEBUG - 用户 53 分配了数据块: [433, 333, 347, 81, 257, 243, 356, 302, 300]
2025-10-30 15:37:32,577 - task_1 - DEBUG - 用户 54 分配了数据块: [59, 237]
2025-10-30 15:37:32,577 - task_1 - DEBUG - 用户 55 分配了数据块: [342, 484, 346, 55, 218, 242, 132]
2025-10-30 15:37:32,577 - task_1 - DEBUG - 用户 56 分配了数据块: [36, 276, 22, 154, 407, 163, 178, 186, 178, 366]
2025-10-30 15:37:32,577 - task_1 - DEBUG - 用户 57 分配了数据块: [428, 46, 218]
2025-10-30 15:37:32,577 - task_1 - DEBUG - 用户 58 分配了数据块: [172, 342, 139, 284, 94, 382, 431, 228, 13, 231]
2025-10-30 15:37:32,577 - task_1 - DEBUG - 用户 59 分配了数据块: [110, 394, 59, 338, 326, 96, 466, 94]
2025-10-30 15:37:32,577 - task_1 - DEBUG - 用户 60 分配了数据块: [349, 185, 419, 325, 395, 220, 56, 155, 465, 135]
2025-10-30 15:37:32,577 - task_1 - DEBUG - 用户 61 分配了数据块: [23, 197]
2025-10-30 15:37:32,577 - task_1 - DEBUG - 用户 62 分配了数据块: [466, 429, 469, 50, 19, 444, 494, 104, 406, 489]
2025-10-30 15:37:32,577 - task_1 - DEBUG - 用户 63 分配了数据块: [210, 163, 276, 160, 302, 59, 406]
2025-10-30 15:37:32,577 - task_1 - DEBUG - 用户 64 分配了数据块: [91, 233, 348, 158, 48, 310, 217, 261, 214, 0]
2025-10-30 15:37:32,577 - task_1 - DEBUG - 用户 65 分配了数据块: [240, 413, 172, 481, 27]
2025-10-30 15:37:32,577 - task_1 - DEBUG - 用户 66 分配了数据块: [234, 313]
2025-10-30 15:37:32,577 - task_1 - DEBUG - 用户 67 分配了数据块: [136, 132, 435, 60]
2025-10-30 15:37:32,577 - task_1 - DEBUG - 用户 68 分配了数据块: [113, 182, 264]
2025-10-30 15:37:32,577 - task_1 - DEBUG - 用户 69 分配了数据块: [245, 307, 134]
2025-10-30 15:37:32,577 - task_1 - DEBUG - 用户 70 分配了数据块: [253, 402, 444, 166, 450, 415, 148, 463, 73, 443]
2025-10-30 15:37:32,577 - task_1 - DEBUG - 用户 71 分配了数据块: [133, 93, 81, 94, 222, 162, 365, 55, 252, 216]
2025-10-30 15:37:32,577 - task_1 - DEBUG - 用户 72 分配了数据块: [465, 103]
2025-10-30 15:37:32,577 - task_1 - DEBUG - 用户 73 分配了数据块: [455, 85, 280, 208, 313, 427]
2025-10-30 15:37:32,577 - task_1 - DEBUG - 用户 74 分配了数据块: [193, 306, 443, 386, 274, 98, 481, 283]
2025-10-30 15:37:32,577 - task_1 - DEBUG - 用户 75 分配了数据块: [103, 251, 300, 64, 469, 18]
2025-10-30 15:37:32,577 - task_1 - DEBUG - 用户 76 分配了数据块: [150, 148, 420, 216, 469, 87, 233, 426, 233]
2025-10-30 15:37:32,577 - task_1 - DEBUG - 用户 77 分配了数据块: [294, 261]
2025-10-30 15:37:32,577 - task_1 - DEBUG - 用户 78 分配了数据块: [463, 143, 410, 91, 242, 165, 216]
2025-10-30 15:37:32,578 - task_1 - DEBUG - 用户 79 分配了数据块: [133, 422, 418, 70, 464, 359, 428]
2025-10-30 15:37:32,578 - task_1 - DEBUG - 用户 80 分配了数据块: [297, 32, 206, 218, 169, 304]
2025-10-30 15:37:32,578 - task_1 - DEBUG - 用户 81 分配了数据块: [224, 114, 362, 379]
2025-10-30 15:37:32,578 - task_1 - DEBUG - 用户 82 分配了数据块: [377, 320, 214, 466]
2025-10-30 15:37:32,578 - task_1 - DEBUG - 用户 83 分配了数据块: [472, 114, 341, 427, 54, 147, 34, 362]
2025-10-30 15:37:32,578 - task_1 - DEBUG - 用户 84 分配了数据块: [13, 390, 142, 459, 216]
2025-10-30 15:37:32,578 - task_1 - DEBUG - 用户 85 分配了数据块: [255, 186, 429, 80]
2025-10-30 15:37:32,578 - task_1 - DEBUG - 用户 86 分配了数据块: [273, 273, 140, 11, 436, 299, 360, 470, 486]
2025-10-30 15:37:32,578 - task_1 - DEBUG - 用户 87 分配了数据块: [170, 214, 373, 46, 111, 316]
2025-10-30 15:37:32,578 - task_1 - DEBUG - 用户 88 分配了数据块: [352, 55, 462, 319, 223, 82, 277]
2025-10-30 15:37:32,578 - task_1 - DEBUG - 用户 89 分配了数据块: [240, 311, 407, 352, 306, 315]
2025-10-30 15:37:32,578 - task_1 - DEBUG - 用户 90 分配了数据块: [29, 280, 333, 387, 211, 431, 76, 493, 217, 291]
2025-10-30 15:37:32,578 - task_1 - DEBUG - 用户 91 分配了数据块: [303, 153, 119, 144, 308, 140, 99, 306]
2025-10-30 15:37:32,578 - task_1 - DEBUG - 用户 92 分配了数据块: [18, 180, 233]
2025-10-30 15:37:32,578 - task_1 - DEBUG - 用户 93 分配了数据块: [467, 487, 58, 201, 120, 61, 295]
2025-10-30 15:37:32,578 - task_1 - DEBUG - 用户 94 分配了数据块: [90, 118, 255, 452, 384, 317, 35, 228, 162, 236]
2025-10-30 15:37:32,578 - task_1 - DEBUG - 用户 95 分配了数据块: [381, 250, 402, 385, 472, 357]
2025-10-30 15:37:32,578 - task_1 - DEBUG - 用户 96 分配了数据块: [331, 153, 67, 100, 220, 491, 85, 475, 293, 258]
2025-10-30 15:37:32,578 - task_1 - DEBUG - 用户 97 分配了数据块: [360, 286, 342, 187]
2025-10-30 15:37:32,578 - task_1 - DEBUG - 用户 98 分配了数据块: [264, 498]
2025-10-30 15:37:32,578 - task_1 - DEBUG - 用户 99 分配了数据块: [440, 3, 251, 122, 51, 332, 297]
2025-10-30 15:37:32,578 - task_1 - INFO - 加载用户数据分配完成，共 100 个可用用户
2025-10-30 15:37:32,578 - task_1 - INFO - 数据加载完成
2025-10-30 15:37:32,601 - task_1 - DEBUG - 任务 1 状态更新为: running
2025-10-30 15:37:32,605 - task_1 - DEBUG - 任务 1 当前轮次更新为: 0
2025-10-30 15:37:32,605 - task_1 - INFO - 联邦学习任务 1 初始化完成 - 模型:r8, 数据集:CIFAR10, 轮数:2000
2025-10-30 15:37:32,609 - task_1 - INFO - 启动联邦学习任务 1...
2025-10-30 15:37:32,610 - task_1 - INFO - 联邦训练线程 1 已启动
2025-10-30 15:37:32,610 - task_1 - WARNING - 任务 1: 当前用户数 0 少于2人，训练挂起
2025-10-30 15:37:32,635 - task_1 - DEBUG - 任务 1 状态更新为: paused
2025-10-30 15:37:41,525 - task_1 - INFO - 尝试添加用户 1 到联邦
2025-10-30 15:37:41,525 - task_1 - INFO - 开始为 1 个联邦用户构建训练数据
2025-10-30 15:37:41,525 - task_1 - INFO - 用户 1 的数据块: [241, 233, 273, 356, 131]
2025-10-30 15:37:41,525 - task_1 - INFO - 用户 1 有 681 个训练样本
2025-10-30 15:37:41,525 - task_1 - INFO - 训练数据构建完成，共 1 个联邦用户
2025-10-30 15:37:41,525 - task_1 - INFO - 用户 1 已成功加入联邦
2025-10-30 15:37:50,228 - task_1 - INFO - 尝试添加用户 2 到联邦
2025-10-30 15:37:50,228 - task_1 - INFO - 开始为 2 个联邦用户构建训练数据
2025-10-30 15:37:50,228 - task_1 - INFO - 用户 1 的数据块: [241, 233, 273, 356, 131]
2025-10-30 15:37:50,229 - task_1 - INFO - 用户 1 有 681 个训练样本
2025-10-30 15:37:50,229 - task_1 - INFO - 用户 2 的数据块: [305, 187]
2025-10-30 15:37:50,229 - task_1 - INFO - 用户 2 有 439 个训练样本
2025-10-30 15:37:50,229 - task_1 - INFO - 训练数据构建完成，共 2 个联邦用户
2025-10-30 15:37:50,229 - task_1 - INFO - 用户 2 已成功加入联邦
2025-10-30 15:37:52,697 - task_1 - INFO - 任务 1: 当前用户数 2 达到要求，恢复训练
2025-10-30 15:37:52,702 - task_1 - DEBUG - 任务 1 状态更新为: running
2025-10-30 15:37:52,702 - task_1 - INFO - 任务 1: 开始第 1 轮联邦训练，当前用户数: 2
2025-10-30 15:37:52,706 - task_1 - INFO - Server Epoch:1 choose agents : [1, 2].
2025-10-30 15:37:57,289 - task_1 - INFO - ___Local_Train , g_epoch   1, l_epoch   1, local model 1,  Average loss: 2.0161, Accuracy: 306/681 (44.9339%)
2025-10-30 15:38:01,806 - task_1 - INFO - ___Local_Train , g_epoch   1, l_epoch   2, local model 1,  Average loss: 1.6450, Accuracy: 354/681 (51.9824%)
2025-10-30 15:38:02,231 - task_1 - INFO - 尝试添加用户 3 到联邦
2025-10-30 15:38:02,231 - task_1 - INFO - 开始为 3 个联邦用户构建训练数据
2025-10-30 15:38:02,231 - task_1 - INFO - 用户 1 的数据块: [241, 233, 273, 356, 131]
2025-10-30 15:38:02,231 - task_1 - INFO - 用户 1 有 681 个训练样本
2025-10-30 15:38:02,231 - task_1 - INFO - 用户 2 的数据块: [305, 187]
2025-10-30 15:38:02,231 - task_1 - INFO - 用户 2 有 439 个训练样本
2025-10-30 15:38:02,231 - task_1 - INFO - 用户 3 的数据块: [464, 162, 309, 182, 109, 283, 264, 134]
2025-10-30 15:38:02,231 - task_1 - INFO - 用户 3 有 720 个训练样本
2025-10-30 15:38:02,231 - task_1 - INFO - 训练数据构建完成，共 3 个联邦用户
2025-10-30 15:38:02,231 - task_1 - INFO - 用户 3 已成功加入联邦
2025-10-30 15:38:04,866 - task_1 - INFO - ___Local_Train , g_epoch   1, l_epoch   1, local model 2,  Average loss: 1.6915, Accuracy: 226/439 (51.4806%)
2025-10-30 15:38:07,847 - task_1 - INFO - ___Local_Train , g_epoch   1, l_epoch   2, local model 2,  Average loss: 1.4652, Accuracy: 326/439 (74.2597%)
2025-10-30 15:38:12,738 - task_1 - INFO - ___Local_Train , g_epoch   1, l_epoch   1, local model 3,  Average loss: 2.2168, Accuracy: 124/720 (17.2222%)
2025-10-30 15:38:17,478 - task_1 - INFO - ___Local_Train , g_epoch   1, l_epoch   2, local model 3,  Average loss: 1.9848, Accuracy: 216/720 (30.0000%)
2025-10-30 15:38:17,487 - task_1 - ERROR - 任务 1: 训练过程中发生错误: list index out of range
2025-10-30 15:38:18,490 - task_1 - INFO - 任务 1: 开始第 1 轮联邦训练，当前用户数: 3
2025-10-30 15:38:18,490 - task_1 - INFO - Server Epoch:1 choose agents : [1, 2, 3].
2025-10-30 15:38:23,067 - task_1 - INFO - ___Local_Train , g_epoch   1, l_epoch   1, local model 1,  Average loss: 1.9490, Accuracy: 305/681 (44.7871%)
2025-10-30 15:38:27,697 - task_1 - INFO - ___Local_Train , g_epoch   1, l_epoch   2, local model 1,  Average loss: 1.6330, Accuracy: 352/681 (51.6887%)
2025-10-30 15:38:30,789 - task_1 - INFO - ___Local_Train , g_epoch   1, l_epoch   1, local model 2,  Average loss: 1.6874, Accuracy: 240/439 (54.6697%)
2025-10-30 15:38:33,797 - task_1 - INFO - ___Local_Train , g_epoch   1, l_epoch   2, local model 2,  Average loss: 1.5351, Accuracy: 326/439 (74.2597%)
2025-10-30 15:38:38,680 - task_1 - INFO - ___Local_Train , g_epoch   1, l_epoch   1, local model 3,  Average loss: 2.2402, Accuracy: 121/720 (16.8056%)
2025-10-30 15:38:43,477 - task_1 - INFO - ___Local_Train , g_epoch   1, l_epoch   2, local model 3,  Average loss: 1.9907, Accuracy: 212/720 (29.4444%)
2025-10-30 15:39:05,227 - task_1 - INFO - ___Global_Test___g_epoch:1  Average loss: 2.2804 Accuracy: 1146/10000 (11.46%)
2025-10-30 15:39:05,227 - task_1 - INFO - 开始第 1 轮贡献度评估，参与用户: [1, 2, 3]
2025-10-30 15:39:05,227 - task_1 - INFO - 开始计算Shapley值，用户数: 3
2025-10-30 15:39:05,227 - task_1 - INFO - 生成了 6 种排列
2025-10-30 15:39:05,227 - task_1 - INFO - Shapley计算进度: 0/6
2025-10-30 15:45:37,344 - task_1 - INFO - Shapley值计算完成: {1: 0.2566899360093077, 2: 0.2453461314717859, 3: 0.49796393251890636}
2025-10-30 15:45:37,345 - task_1 - INFO - 第 1 轮贡献度记录已保存
2025-10-30 15:45:37,345 - task_1 - INFO - 第 1 轮贡献度评估完成: {1: 0.2566899360093077, 2: 0.2453461314717859, 3: 0.49796393251890636}
2025-10-30 15:45:37,352 - task_1 - INFO - 任务 1 第 1 轮全局准确度 11.46% 已记录到数据库
2025-10-30 15:45:37,352 - task_1 - INFO - Epoch 1 completed in 438.86 seconds
2025-10-30 15:45:52,353 - task_1 - INFO - Server Epoch:2 choose agents : [1, 2, 3].
2025-10-30 15:45:56,930 - task_1 - INFO - ___Local_Train , g_epoch   2, l_epoch   1, local model 1,  Average loss: 1.6097, Accuracy: 311/681 (45.6681%)
2025-10-30 15:46:01,438 - task_1 - INFO - ___Local_Train , g_epoch   2, l_epoch   2, local model 1,  Average loss: 1.4502, Accuracy: 389/681 (57.1219%)
2025-10-30 15:46:04,367 - task_1 - INFO - ___Local_Train , g_epoch   2, l_epoch   1, local model 2,  Average loss: 1.3176, Accuracy: 294/439 (66.9704%)
2025-10-30 15:46:07,255 - task_1 - INFO - ___Local_Train , g_epoch   2, l_epoch   2, local model 2,  Average loss: 1.2040, Accuracy: 326/439 (74.2597%)
2025-10-30 15:46:12,020 - task_1 - INFO - ___Local_Train , g_epoch   2, l_epoch   1, local model 3,  Average loss: 2.0529, Accuracy: 184/720 (25.5556%)
2025-10-30 15:46:16,793 - task_1 - INFO - ___Local_Train , g_epoch   2, l_epoch   2, local model 3,  Average loss: 1.9162, Accuracy: 262/720 (36.3889%)
2025-10-30 15:46:38,419 - task_1 - INFO - ___Global_Test___g_epoch:2  Average loss: 2.2749 Accuracy: 1521/10000 (15.21%)
2025-10-30 15:46:38,419 - task_1 - INFO - 开始第 2 轮贡献度评估，参与用户: [1, 2, 3]
2025-10-30 15:46:38,419 - task_1 - INFO - 开始计算Shapley值，用户数: 3
2025-10-30 15:46:38,419 - task_1 - INFO - 生成了 6 种排列
2025-10-30 15:46:38,419 - task_1 - INFO - Shapley计算进度: 0/6
2025-10-30 15:53:11,703 - task_1 - INFO - Shapley值计算完成: {1: 0.25838264299802766, 2: 0.17948717948717952, 3: 0.5621301775147929}
2025-10-30 15:53:11,704 - task_1 - INFO - 第 2 轮贡献度记录已保存
2025-10-30 15:53:11,704 - task_1 - INFO - 第 2 轮贡献度评估完成: {1: 0.25838264299802766, 2: 0.17948717948717952, 3: 0.5621301775147929}
2025-10-30 15:53:11,709 - task_1 - INFO - 任务 1 第 2 轮全局准确度 15.21% 已记录到数据库
2025-10-30 15:53:11,709 - task_1 - INFO - Epoch 2 completed in 439.36 seconds
2025-10-30 15:53:26,710 - task_1 - INFO - Server Epoch:3 choose agents : [1, 2, 3].
2025-10-30 15:53:31,241 - task_1 - INFO - ___Local_Train , g_epoch   3, l_epoch   1, local model 1,  Average loss: 1.5079, Accuracy: 374/681 (54.9192%)
2025-10-30 15:53:35,778 - task_1 - INFO - ___Local_Train , g_epoch   3, l_epoch   2, local model 1,  Average loss: 1.3836, Accuracy: 398/681 (58.4435%)
2025-10-30 15:53:38,704 - task_1 - INFO - ___Local_Train , g_epoch   3, l_epoch   1, local model 2,  Average loss: 1.7249, Accuracy: 195/439 (44.4191%)
2025-10-30 15:53:41,614 - task_1 - INFO - ___Local_Train , g_epoch   3, l_epoch   2, local model 2,  Average loss: 1.5618, Accuracy: 326/439 (74.2597%)
2025-10-30 15:53:46,434 - task_1 - INFO - ___Local_Train , g_epoch   3, l_epoch   1, local model 3,  Average loss: 1.8253, Accuracy: 243/720 (33.7500%)
2025-10-30 15:53:51,260 - task_1 - INFO - ___Local_Train , g_epoch   3, l_epoch   2, local model 3,  Average loss: 1.7476, Accuracy: 259/720 (35.9722%)
2025-10-30 15:54:13,153 - task_1 - INFO - ___Global_Test___g_epoch:3  Average loss: 2.0946 Accuracy: 2042/10000 (20.42%)
2025-10-30 15:54:13,153 - task_1 - INFO - 开始第 3 轮贡献度评估，参与用户: [1, 2, 3]
2025-10-30 15:54:13,153 - task_1 - INFO - 开始计算Shapley值，用户数: 3
2025-10-30 15:54:13,153 - task_1 - INFO - 生成了 6 种排列
2025-10-30 15:54:13,153 - task_1 - INFO - Shapley计算进度: 0/6
2025-10-30 16:00:42,714 - task_1 - INFO - Shapley值计算完成: {1: 0.3969964087495919, 2: 0.07280444009141368, 3: 0.5301991511589944}
2025-10-30 16:00:42,715 - task_1 - INFO - 第 3 轮贡献度记录已保存
2025-10-30 16:00:42,715 - task_1 - INFO - 第 3 轮贡献度评估完成: {1: 0.3969964087495919, 2: 0.07280444009141368, 3: 0.5301991511589944}
2025-10-30 16:00:42,721 - task_1 - INFO - 任务 1 第 3 轮全局准确度 20.42% 已记录到数据库
2025-10-30 16:00:42,721 - task_1 - INFO - Epoch 3 completed in 436.01 seconds
2025-10-30 16:00:57,721 - task_1 - INFO - Server Epoch:4 choose agents : [1, 2, 3].
2025-10-30 16:01:01,896 - task_1 - INFO - ___Local_Train , g_epoch   4, l_epoch   1, local model 1,  Average loss: 1.5482, Accuracy: 330/681 (48.4581%)
2025-10-30 16:01:05,853 - task_1 - INFO - ___Local_Train , g_epoch   4, l_epoch   2, local model 1,  Average loss: 1.3772, Accuracy: 410/681 (60.2056%)
2025-10-30 16:01:08,562 - task_1 - INFO - ___Local_Train , g_epoch   4, l_epoch   1, local model 2,  Average loss: 1.1261, Accuracy: 310/439 (70.6150%)
2025-10-30 16:01:11,202 - task_1 - INFO - ___Local_Train , g_epoch   4, l_epoch   2, local model 2,  Average loss: 1.0682, Accuracy: 326/439 (74.2597%)
2025-10-30 16:01:15,450 - task_1 - INFO - ___Local_Train , g_epoch   4, l_epoch   1, local model 3,  Average loss: 1.9298, Accuracy: 212/720 (29.4444%)
2025-10-30 16:01:19,449 - task_1 - INFO - ___Local_Train , g_epoch   4, l_epoch   2, local model 3,  Average loss: 1.7688, Accuracy: 280/720 (38.8889%)
2025-10-30 16:01:36,824 - task_1 - INFO - ___Global_Test___g_epoch:4  Average loss: 1.9614 Accuracy: 2682/10000 (26.82%)
2025-10-30 16:01:36,824 - task_1 - INFO - 开始第 4 轮贡献度评估，参与用户: [1, 2, 3]
2025-10-30 16:01:36,824 - task_1 - INFO - 开始计算Shapley值，用户数: 3
2025-10-30 16:01:36,824 - task_1 - INFO - 生成了 6 种排列
2025-10-30 16:01:36,824 - task_1 - INFO - Shapley计算进度: 0/6
2025-10-30 16:07:01,118 - task_1 - INFO - Shapley值计算完成: {1: 0.3545239870743227, 2: 0.19345016157096692, 3: 0.4520258513547103}
2025-10-30 16:07:01,119 - task_1 - INFO - 第 4 轮贡献度记录已保存
2025-10-30 16:07:01,119 - task_1 - INFO - 第 4 轮贡献度评估完成: {1: 0.3545239870743227, 2: 0.19345016157096692, 3: 0.4520258513547103}
2025-10-30 16:07:01,124 - task_1 - INFO - 任务 1 第 4 轮全局准确度 26.82% 已记录到数据库
2025-10-30 16:07:01,124 - task_1 - INFO - Epoch 4 completed in 363.40 seconds
2025-10-30 16:07:16,126 - task_1 - INFO - Server Epoch:5 choose agents : [1, 2, 3].
2025-10-30 16:07:20,329 - task_1 - INFO - ___Local_Train , g_epoch   5, l_epoch   1, local model 1,  Average loss: 1.3519, Accuracy: 398/681 (58.4435%)
2025-10-30 16:07:24,531 - task_1 - INFO - ___Local_Train , g_epoch   5, l_epoch   2, local model 1,  Average loss: 1.2433, Accuracy: 427/681 (62.7019%)
2025-10-30 16:07:27,232 - task_1 - INFO - ___Local_Train , g_epoch   5, l_epoch   1, local model 2,  Average loss: 1.9210, Accuracy: 162/439 (36.9021%)
2025-10-30 16:07:29,939 - task_1 - INFO - ___Local_Train , g_epoch   5, l_epoch   2, local model 2,  Average loss: 1.5868, Accuracy: 326/439 (74.2597%)
2025-10-30 16:07:34,366 - task_1 - INFO - ___Local_Train , g_epoch   5, l_epoch   1, local model 3,  Average loss: 1.7377, Accuracy: 254/720 (35.2778%)
2025-10-30 16:07:38,810 - task_1 - INFO - ___Local_Train , g_epoch   5, l_epoch   2, local model 3,  Average loss: 1.6586, Accuracy: 299/720 (41.5278%)
2025-10-30 16:07:58,315 - task_1 - INFO - ___Global_Test___g_epoch:5  Average loss: 1.9231 Accuracy: 2698/10000 (26.98%)
2025-10-30 16:07:58,315 - task_1 - INFO - 开始第 5 轮贡献度评估，参与用户: [1, 2, 3]
2025-10-30 16:07:58,315 - task_1 - INFO - 开始计算Shapley值，用户数: 3
2025-10-30 16:07:58,315 - task_1 - INFO - 生成了 6 种排列
2025-10-30 16:07:58,315 - task_1 - INFO - Shapley计算进度: 0/6
2025-10-30 16:13:51,313 - task_1 - INFO - Shapley值计算完成: {1: 0.34890042006424515, 2: 0.21732147269582403, 3: 0.4337781072399308}
2025-10-30 16:13:51,321 - task_1 - INFO - 第 5 轮贡献度记录已保存
2025-10-30 16:13:51,321 - task_1 - INFO - 第 5 轮贡献度评估完成: {1: 0.34890042006424515, 2: 0.21732147269582403, 3: 0.4337781072399308}
2025-10-30 16:13:51,328 - task_1 - INFO - 任务 1 第 5 轮全局准确度 26.98% 已记录到数据库
2025-10-30 16:13:51,328 - task_1 - INFO - Epoch 5 completed in 395.20 seconds
2025-10-30 16:14:06,329 - task_1 - INFO - Server Epoch:6 choose agents : [1, 2, 3].
2025-10-30 16:14:10,519 - task_1 - INFO - ___Local_Train , g_epoch   6, l_epoch   1, local model 1,  Average loss: 1.5475, Accuracy: 327/681 (48.0176%)
2025-10-30 16:14:14,694 - task_1 - INFO - ___Local_Train , g_epoch   6, l_epoch   2, local model 1,  Average loss: 1.4257, Accuracy: 396/681 (58.1498%)
2025-10-30 16:14:17,418 - task_1 - INFO - ___Local_Train , g_epoch   6, l_epoch   1, local model 2,  Average loss: 1.0454, Accuracy: 317/439 (72.2096%)
2025-10-30 16:14:20,121 - task_1 - INFO - ___Local_Train , g_epoch   6, l_epoch   2, local model 2,  Average loss: 0.9616, Accuracy: 326/439 (74.2597%)
2025-10-30 16:14:24,591 - task_1 - INFO - ___Local_Train , g_epoch   6, l_epoch   1, local model 3,  Average loss: 1.7846, Accuracy: 234/720 (32.5000%)
2025-10-30 16:14:29,019 - task_1 - INFO - ___Local_Train , g_epoch   6, l_epoch   2, local model 3,  Average loss: 1.7260, Accuracy: 293/720 (40.6944%)
2025-10-30 16:14:48,668 - task_1 - INFO - ___Global_Test___g_epoch:6  Average loss: 1.9273 Accuracy: 3054/10000 (30.54%)
2025-10-30 16:14:48,668 - task_1 - INFO - 开始第 6 轮贡献度评估，参与用户: [1, 2, 3]
2025-10-30 16:14:48,668 - task_1 - INFO - 开始计算Shapley值，用户数: 3
2025-10-30 16:14:48,668 - task_1 - INFO - 生成了 6 种排列
2025-10-30 16:14:48,668 - task_1 - INFO - Shapley计算进度: 0/6
2025-10-30 16:20:49,633 - task_1 - INFO - Shapley值计算完成: {1: 0.332296441824929, 2: 0.2591137306265008, 3: 0.4085898275485702}
2025-10-30 16:20:49,634 - task_1 - INFO - 第 6 轮贡献度记录已保存
2025-10-30 16:20:49,635 - task_1 - INFO - 第 6 轮贡献度评估完成: {1: 0.332296441824929, 2: 0.2591137306265008, 3: 0.4085898275485702}
2025-10-30 16:20:49,639 - task_1 - INFO - 任务 1 第 6 轮全局准确度 30.54% 已记录到数据库
2025-10-30 16:20:49,639 - task_1 - INFO - Epoch 6 completed in 403.31 seconds
2025-10-30 16:21:04,640 - task_1 - INFO - Server Epoch:7 choose agents : [1, 2, 3].
2025-10-30 16:21:08,849 - task_1 - INFO - ___Local_Train , g_epoch   7, l_epoch   1, local model 1,  Average loss: 1.3260, Accuracy: 391/681 (57.4156%)
2025-10-30 16:21:13,060 - task_1 - INFO - ___Local_Train , g_epoch   7, l_epoch   2, local model 1,  Average loss: 1.2127, Accuracy: 435/681 (63.8767%)
2025-10-30 16:21:15,809 - task_1 - INFO - ___Local_Train , g_epoch   7, l_epoch   1, local model 2,  Average loss: 2.2727, Accuracy: 155/439 (35.3075%)
2025-10-30 16:21:18,548 - task_1 - INFO - ___Local_Train , g_epoch   7, l_epoch   2, local model 2,  Average loss: 1.6164, Accuracy: 326/439 (74.2597%)
2025-10-30 16:21:23,013 - task_1 - INFO - ___Local_Train , g_epoch   7, l_epoch   1, local model 3,  Average loss: 1.6309, Accuracy: 270/720 (37.5000%)
2025-10-30 16:21:27,452 - task_1 - INFO - ___Local_Train , g_epoch   7, l_epoch   2, local model 3,  Average loss: 1.5874, Accuracy: 322/720 (44.7222%)
2025-10-30 16:21:47,344 - task_1 - INFO - ___Global_Test___g_epoch:7  Average loss: 1.9371 Accuracy: 2762/10000 (27.62%)
2025-10-30 16:21:47,345 - task_1 - INFO - 开始第 7 轮贡献度评估，参与用户: [1, 2, 3]
2025-10-30 16:21:47,345 - task_1 - INFO - 开始计算Shapley值，用户数: 3
2025-10-30 16:21:47,345 - task_1 - INFO - 生成了 6 种排列
2025-10-30 16:21:47,345 - task_1 - INFO - Shapley计算进度: 0/6
