2025-11-17 15:42:08,289 - task_2 - INFO - current path: /home/mastlab/wby/BlockFednew/federation_core/saved_models/2_2
2025-11-17 15:42:08,290 - task_2 - INFO - 联邦学习环境初始化完成 - 初始用户数: 0
2025-11-17 15:42:08,290 - task_2 - INFO - Loading data
2025-11-17 15:42:09,447 - task_2 - INFO - reading data done
2025-11-17 15:42:12,982 - task_2 - INFO - 加载数据块完成，共 500 个数据块
2025-11-17 15:42:12,982 - task_2 - INFO - 数据库中找到 100 个用户
2025-11-17 15:42:12,982 - task_2 - DEBUG - 用户 0 分配了数据块: [151, 408, 206, 24]
2025-11-17 15:42:12,982 - task_2 - DEBUG - 用户 1 分配了数据块: [241, 233, 273, 356, 131]
2025-11-17 15:42:12,982 - task_2 - DEBUG - 用户 2 分配了数据块: [305, 187]
2025-11-17 15:42:12,982 - task_2 - DEBUG - 用户 3 分配了数据块: [464, 162, 309, 182, 109, 283, 264, 134]
2025-11-17 15:42:12,982 - task_2 - DEBUG - 用户 4 分配了数据块: [232, 350, 208, 281, 467, 124, 491, 351, 280]
2025-11-17 15:42:12,982 - task_2 - DEBUG - 用户 5 分配了数据块: [179, 236, 145, 46, 492, 351, 407]
2025-11-17 15:42:12,982 - task_2 - DEBUG - 用户 6 分配了数据块: [248, 133, 83, 328, 439, 393, 476]
2025-11-17 15:42:12,982 - task_2 - DEBUG - 用户 7 分配了数据块: [103, 380, 189, 29, 318, 38]
2025-11-17 15:42:12,982 - task_2 - DEBUG - 用户 8 分配了数据块: [204, 69, 171, 203, 431, 331]
2025-11-17 15:42:12,982 - task_2 - DEBUG - 用户 9 分配了数据块: [359, 324, 358, 288, 139, 213, 288]
2025-11-17 15:42:12,982 - task_2 - DEBUG - 用户 10 分配了数据块: [499, 46, 83]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 11 分配了数据块: [234, 383, 103, 110, 35, 181, 295, 10]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 12 分配了数据块: [321, 129, 483, 197]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 13 分配了数据块: [171, 121, 42, 451, 316, 192, 410, 76, 403, 303]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 14 分配了数据块: [101, 61, 362, 69, 146, 374]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 15 分配了数据块: [280, 404, 218, 373, 415, 129, 406]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 16 分配了数据块: [79, 434, 475, 356, 192, 332, 151]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 17 分配了数据块: [388, 182, 183, 450]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 18 分配了数据块: [98, 341, 244]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 19 分配了数据块: [323, 276, 413, 480, 341]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 20 分配了数据块: [171, 174]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 21 分配了数据块: [141, 273, 192, 249]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 22 分配了数据块: [12, 357, 312, 211, 10, 186, 416, 472, 287]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 23 分配了数据块: [200, 186, 361, 387, 28, 117, 253, 94, 202]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 24 分配了数据块: [379, 120, 233]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 25 分配了数据块: [263, 443, 367, 17, 363, 265]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 26 分配了数据块: [182, 176, 216, 324, 118, 41, 194]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 27 分配了数据块: [307, 60, 292, 186, 356, 232]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 28 分配了数据块: [313, 394, 421, 227, 25, 46, 467, 458]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 29 分配了数据块: [478, 340, 381, 266, 15, 219]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 30 分配了数据块: [394, 158, 299, 218, 493, 469, 386, 165, 397]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 31 分配了数据块: [89, 153, 159, 394, 359, 325, 128, 456, 272]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 32 分配了数据块: [279, 340, 115]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 33 分配了数据块: [332, 438, 152, 353, 36]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 34 分配了数据块: [294, 357, 195]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 35 分配了数据块: [206, 39, 93]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 36 分配了数据块: [73, 161, 128, 309, 476, 128, 420, 12]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 37 分配了数据块: [72, 425, 334, 408]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 38 分配了数据块: [267, 105, 284, 237, 60, 25, 393, 356, 226, 221]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 39 分配了数据块: [300, 274, 213, 206, 295, 389, 51, 198, 343]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 40 分配了数据块: [151, 407, 357, 448, 175, 181, 365, 240, 347]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 41 分配了数据块: [63, 398, 196, 272, 53, 433, 202]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 42 分配了数据块: [223, 253, 217, 29, 28, 396, 228, 61, 167, 446]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 43 分配了数据块: [321, 413]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 44 分配了数据块: [42, 47, 447, 137, 377, 470]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 45 分配了数据块: [208, 288, 291, 236, 408]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 46 分配了数据块: [459, 465, 56, 46]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 47 分配了数据块: [450, 1, 197, 293, 51, 132, 491, 487, 368, 101]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 48 分配了数据块: [317, 157, 208, 344, 159]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 49 分配了数据块: [129, 334, 179, 106, 481]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 50 分配了数据块: [373, 215, 189, 32, 485, 261, 210, 154]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 51 分配了数据块: [446, 241, 472, 211, 329, 183, 18, 479]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 52 分配了数据块: [104, 396, 144, 175, 129, 40, 451]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 53 分配了数据块: [433, 333, 347, 81, 257, 243, 356, 302, 300]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 54 分配了数据块: [59, 237]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 55 分配了数据块: [342, 484, 346, 55, 218, 242, 132]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 56 分配了数据块: [36, 276, 22, 154, 407, 163, 178, 186, 178, 366]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 57 分配了数据块: [428, 46, 218]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 58 分配了数据块: [172, 342, 139, 284, 94, 382, 431, 228, 13, 231]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 59 分配了数据块: [110, 394, 59, 338, 326, 96, 466, 94]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 60 分配了数据块: [349, 185, 419, 325, 395, 220, 56, 155, 465, 135]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 61 分配了数据块: [23, 197]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 62 分配了数据块: [466, 429, 469, 50, 19, 444, 494, 104, 406, 489]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 63 分配了数据块: [210, 163, 276, 160, 302, 59, 406]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 64 分配了数据块: [91, 233, 348, 158, 48, 310, 217, 261, 214, 0]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 65 分配了数据块: [240, 413, 172, 481, 27]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 66 分配了数据块: [234, 313]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 67 分配了数据块: [136, 132, 435, 60]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 68 分配了数据块: [113, 182, 264]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 69 分配了数据块: [245, 307, 134]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 70 分配了数据块: [253, 402, 444, 166, 450, 415, 148, 463, 73, 443]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 71 分配了数据块: [133, 93, 81, 94, 222, 162, 365, 55, 252, 216]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 72 分配了数据块: [465, 103]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 73 分配了数据块: [455, 85, 280, 208, 313, 427]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 74 分配了数据块: [193, 306, 443, 386, 274, 98, 481, 283]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 75 分配了数据块: [103, 251, 300, 64, 469, 18]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 76 分配了数据块: [150, 148, 420, 216, 469, 87, 233, 426, 233]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 77 分配了数据块: [294, 261]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 78 分配了数据块: [463, 143, 410, 91, 242, 165, 216]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 79 分配了数据块: [133, 422, 418, 70, 464, 359, 428]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 80 分配了数据块: [297, 32, 206, 218, 169, 304]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 81 分配了数据块: [224, 114, 362, 379]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 82 分配了数据块: [377, 320, 214, 466]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 83 分配了数据块: [472, 114, 341, 427, 54, 147, 34, 362]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 84 分配了数据块: [13, 390, 142, 459, 216]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 85 分配了数据块: [255, 186, 429, 80]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 86 分配了数据块: [273, 273, 140, 11, 436, 299, 360, 470, 486]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 87 分配了数据块: [170, 214, 373, 46, 111, 316]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 88 分配了数据块: [352, 55, 462, 319, 223, 82, 277]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 89 分配了数据块: [240, 311, 407, 352, 306, 315]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 90 分配了数据块: [29, 280, 333, 387, 211, 431, 76, 493, 217, 291]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 91 分配了数据块: [303, 153, 119, 144, 308, 140, 99, 306]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 92 分配了数据块: [18, 180, 233]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 93 分配了数据块: [467, 487, 58, 201, 120, 61, 295]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 94 分配了数据块: [90, 118, 255, 452, 384, 317, 35, 228, 162, 236]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 95 分配了数据块: [381, 250, 402, 385, 472, 357]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 96 分配了数据块: [331, 153, 67, 100, 220, 491, 85, 475, 293, 258]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 97 分配了数据块: [360, 286, 342, 187]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 98 分配了数据块: [264, 498]
2025-11-17 15:42:12,983 - task_2 - DEBUG - 用户 99 分配了数据块: [440, 3, 251, 122, 51, 332, 297]
2025-11-17 15:42:12,983 - task_2 - INFO - 加载用户数据分配完成，共 100 个可用用户
2025-11-17 15:42:12,983 - task_2 - INFO - 数据加载完成
2025-11-17 15:42:13,063 - task_2 - DEBUG - 任务 2 状态更新为: running
2025-11-17 15:42:13,070 - task_2 - DEBUG - 任务 2 当前轮次更新为: 0
2025-11-17 15:42:13,070 - task_2 - INFO - 联邦学习任务 2 初始化完成 - 模型:r8, 数据集:CIFAR10, 轮数:2000
2025-11-17 15:42:13,071 - task_2 - INFO - 启动联邦学习任务 2...
2025-11-17 15:42:13,072 - task_2 - INFO - 联邦训练线程 2 已启动
2025-11-17 15:42:13,072 - task_2 - WARNING - 任务 2: 当前用户数 0 少于2人，训练挂起
2025-11-17 15:42:13,078 - task_2 - DEBUG - 任务 2 状态更新为: paused
2026-01-05 20:15:20,082 - task_2 - INFO - current path: /home/mastlab/wby/blockfed_new/federation_core/saved_models/2_2
2026-01-05 20:15:20,082 - task_2 - INFO - 联邦学习环境初始化完成 - 初始用户数: 0
2026-01-05 20:15:20,082 - task_2 - INFO - Loading data
2026-01-05 20:15:21,750 - task_2 - INFO - reading data done
2026-01-05 20:15:32,547 - task_2 - INFO - 加载数据块完成，共 500 个数据块
2026-01-05 20:15:32,547 - task_2 - INFO - 数据库中找到 100 个用户
2026-01-05 20:15:32,547 - task_2 - DEBUG - 用户 0 分配了数据块: [151, 408, 206, 24]
2026-01-05 20:15:32,547 - task_2 - DEBUG - 用户 1 分配了数据块: [0]
2026-01-05 20:15:32,547 - task_2 - DEBUG - 用户 2 分配了数据块: [9, 6, 3]
2026-01-05 20:15:32,547 - task_2 - DEBUG - 用户 3 分配了数据块: [38, 84, 94]
2026-01-05 20:15:32,547 - task_2 - DEBUG - 用户 4 分配了数据块: []
2026-01-05 20:15:32,547 - task_2 - DEBUG - 用户 5 分配了数据块: [445, 256, 207]
2026-01-05 20:15:32,547 - task_2 - DEBUG - 用户 6 分配了数据块: [248, 133, 83, 328, 439, 393, 476]
2026-01-05 20:15:32,547 - task_2 - DEBUG - 用户 7 分配了数据块: [103, 380, 189, 29, 318, 38]
2026-01-05 20:15:32,547 - task_2 - DEBUG - 用户 8 分配了数据块: [204, 69, 171, 203, 431, 331]
2026-01-05 20:15:32,547 - task_2 - DEBUG - 用户 9 分配了数据块: [359, 324, 358, 288, 139, 213, 288]
2026-01-05 20:15:32,547 - task_2 - DEBUG - 用户 10 分配了数据块: [5, 3, 2, 0]
2026-01-05 20:15:32,547 - task_2 - DEBUG - 用户 11 分配了数据块: [234, 383, 103, 110, 35, 181, 295, 10]
2026-01-05 20:15:32,547 - task_2 - DEBUG - 用户 12 分配了数据块: [321, 129, 483, 197]
2026-01-05 20:15:32,547 - task_2 - DEBUG - 用户 13 分配了数据块: [171, 121, 42, 451, 316, 192, 410, 76, 403, 303]
2026-01-05 20:15:32,547 - task_2 - DEBUG - 用户 14 分配了数据块: [101, 61, 362, 69, 146, 374]
2026-01-05 20:15:32,547 - task_2 - DEBUG - 用户 15 分配了数据块: [280, 404, 218, 373, 415, 129, 406]
2026-01-05 20:15:32,547 - task_2 - DEBUG - 用户 16 分配了数据块: [79, 434, 475, 356, 192, 332, 151]
2026-01-05 20:15:32,547 - task_2 - DEBUG - 用户 17 分配了数据块: [388, 182, 183, 450]
2026-01-05 20:15:32,547 - task_2 - DEBUG - 用户 18 分配了数据块: [98, 341, 244]
2026-01-05 20:15:32,547 - task_2 - DEBUG - 用户 19 分配了数据块: [323, 276, 413, 480, 341]
2026-01-05 20:15:32,547 - task_2 - DEBUG - 用户 20 分配了数据块: [171, 174]
2026-01-05 20:15:32,547 - task_2 - DEBUG - 用户 21 分配了数据块: [141, 273, 192, 249]
2026-01-05 20:15:32,547 - task_2 - DEBUG - 用户 22 分配了数据块: [12, 357, 312, 211, 10, 186, 416, 472, 287]
2026-01-05 20:15:32,547 - task_2 - DEBUG - 用户 23 分配了数据块: [200, 186, 361, 387, 28, 117, 253, 94, 202]
2026-01-05 20:15:32,547 - task_2 - DEBUG - 用户 24 分配了数据块: [379, 120, 233]
2026-01-05 20:15:32,547 - task_2 - DEBUG - 用户 25 分配了数据块: [263, 443, 367, 17, 363, 265]
2026-01-05 20:15:32,547 - task_2 - DEBUG - 用户 26 分配了数据块: [182, 176, 216, 324, 118, 41, 194]
2026-01-05 20:15:32,547 - task_2 - DEBUG - 用户 27 分配了数据块: [307, 60, 292, 186, 356, 232]
2026-01-05 20:15:32,547 - task_2 - DEBUG - 用户 28 分配了数据块: [313, 394, 421, 227, 25, 46, 467, 458]
2026-01-05 20:15:32,547 - task_2 - DEBUG - 用户 29 分配了数据块: [478, 340, 381, 266, 15, 219]
2026-01-05 20:15:32,547 - task_2 - DEBUG - 用户 30 分配了数据块: [394, 158, 299, 218, 493, 469, 386, 165, 397]
2026-01-05 20:15:32,547 - task_2 - DEBUG - 用户 31 分配了数据块: [89, 153, 159, 394, 359, 325, 128, 456, 272]
2026-01-05 20:15:32,547 - task_2 - DEBUG - 用户 32 分配了数据块: [279, 340, 115]
2026-01-05 20:15:32,547 - task_2 - DEBUG - 用户 33 分配了数据块: [332, 438, 152, 353, 36]
2026-01-05 20:15:32,547 - task_2 - DEBUG - 用户 34 分配了数据块: [294, 357, 195]
2026-01-05 20:15:32,547 - task_2 - DEBUG - 用户 35 分配了数据块: [206, 39, 93]
2026-01-05 20:15:32,547 - task_2 - DEBUG - 用户 36 分配了数据块: [73, 161, 128, 309, 476, 128, 420, 12]
2026-01-05 20:15:32,547 - task_2 - DEBUG - 用户 37 分配了数据块: [72, 425, 334, 408]
2026-01-05 20:15:32,547 - task_2 - DEBUG - 用户 38 分配了数据块: [267, 105, 284, 237, 60, 25, 393, 356, 226, 221]
2026-01-05 20:15:32,547 - task_2 - DEBUG - 用户 39 分配了数据块: [300, 274, 213, 206, 295, 389, 51, 198, 343]
2026-01-05 20:15:32,547 - task_2 - DEBUG - 用户 40 分配了数据块: [151, 407, 357, 448, 175, 181, 365, 240, 347]
2026-01-05 20:15:32,547 - task_2 - DEBUG - 用户 41 分配了数据块: [63, 398, 196, 272, 53, 433, 202]
2026-01-05 20:15:32,548 - task_2 - DEBUG - 用户 42 分配了数据块: [223, 253, 217, 29, 28, 396, 228, 61, 167, 446]
2026-01-05 20:15:32,548 - task_2 - DEBUG - 用户 43 分配了数据块: [321, 413]
2026-01-05 20:15:32,548 - task_2 - DEBUG - 用户 44 分配了数据块: [42, 47, 447, 137, 377, 470]
2026-01-05 20:15:32,548 - task_2 - DEBUG - 用户 45 分配了数据块: [208, 288, 291, 236, 408]
2026-01-05 20:15:32,548 - task_2 - DEBUG - 用户 46 分配了数据块: [459, 465, 56, 46]
2026-01-05 20:15:32,548 - task_2 - DEBUG - 用户 47 分配了数据块: [450, 1, 197, 293, 51, 132, 491, 487, 368, 101]
2026-01-05 20:15:32,548 - task_2 - DEBUG - 用户 48 分配了数据块: [317, 157, 208, 344, 159]
2026-01-05 20:15:32,548 - task_2 - DEBUG - 用户 49 分配了数据块: [129, 334, 179, 106, 481]
2026-01-05 20:15:32,548 - task_2 - DEBUG - 用户 50 分配了数据块: [373, 215, 189, 32, 485, 261, 210, 154]
2026-01-05 20:15:32,548 - task_2 - DEBUG - 用户 51 分配了数据块: [446, 241, 472, 211, 329, 183, 18, 479]
2026-01-05 20:15:32,548 - task_2 - DEBUG - 用户 52 分配了数据块: [104, 396, 144, 175, 129, 40, 451]
2026-01-05 20:15:32,548 - task_2 - DEBUG - 用户 53 分配了数据块: [433, 333, 347, 81, 257, 243, 356, 302, 300]
2026-01-05 20:15:32,548 - task_2 - DEBUG - 用户 54 分配了数据块: [59, 237]
2026-01-05 20:15:32,548 - task_2 - DEBUG - 用户 55 分配了数据块: [342, 484, 346, 55, 218, 242, 132]
2026-01-05 20:15:32,548 - task_2 - DEBUG - 用户 56 分配了数据块: [36, 276, 22, 154, 407, 163, 178, 186, 178, 366]
2026-01-05 20:15:32,548 - task_2 - DEBUG - 用户 57 分配了数据块: [428, 46, 218]
2026-01-05 20:15:32,548 - task_2 - DEBUG - 用户 58 分配了数据块: [172, 342, 139, 284, 94, 382, 431, 228, 13, 231]
2026-01-05 20:15:32,548 - task_2 - DEBUG - 用户 59 分配了数据块: [110, 394, 59, 338, 326, 96, 466, 94]
2026-01-05 20:15:32,548 - task_2 - DEBUG - 用户 60 分配了数据块: [349, 185, 419, 325, 395, 220, 56, 155, 465, 135]
2026-01-05 20:15:32,548 - task_2 - DEBUG - 用户 61 分配了数据块: [23, 197]
2026-01-05 20:15:32,548 - task_2 - DEBUG - 用户 62 分配了数据块: [466, 429, 469, 50, 19, 444, 494, 104, 406, 489]
2026-01-05 20:15:32,548 - task_2 - DEBUG - 用户 63 分配了数据块: [210, 163, 276, 160, 302, 59, 406]
2026-01-05 20:15:32,548 - task_2 - DEBUG - 用户 64 分配了数据块: [91, 233, 348, 158, 48, 310, 217, 261, 214, 0]
2026-01-05 20:15:32,548 - task_2 - DEBUG - 用户 65 分配了数据块: [240, 413, 172, 481, 27]
2026-01-05 20:15:32,548 - task_2 - DEBUG - 用户 66 分配了数据块: [234, 313]
2026-01-05 20:15:32,548 - task_2 - DEBUG - 用户 67 分配了数据块: [136, 132, 435, 60]
2026-01-05 20:15:32,548 - task_2 - DEBUG - 用户 68 分配了数据块: [113, 182, 264]
2026-01-05 20:15:32,548 - task_2 - DEBUG - 用户 69 分配了数据块: [245, 307, 134]
2026-01-05 20:15:32,548 - task_2 - DEBUG - 用户 70 分配了数据块: [253, 402, 444, 166, 450, 415, 148, 463, 73, 443]
2026-01-05 20:15:32,548 - task_2 - DEBUG - 用户 71 分配了数据块: [133, 93, 81, 94, 222, 162, 365, 55, 252, 216]
2026-01-05 20:15:32,548 - task_2 - DEBUG - 用户 72 分配了数据块: [465, 103]
2026-01-05 20:15:32,548 - task_2 - DEBUG - 用户 73 分配了数据块: [455, 85, 280, 208, 313, 427]
2026-01-05 20:15:32,548 - task_2 - DEBUG - 用户 74 分配了数据块: [193, 306, 443, 386, 274, 98, 481, 283]
2026-01-05 20:15:32,548 - task_2 - DEBUG - 用户 75 分配了数据块: [103, 251, 300, 64, 469, 18]
2026-01-05 20:15:32,548 - task_2 - DEBUG - 用户 76 分配了数据块: [150, 148, 420, 216, 469, 87, 233, 426, 233]
2026-01-05 20:15:32,548 - task_2 - DEBUG - 用户 77 分配了数据块: [294, 261]
2026-01-05 20:15:32,548 - task_2 - DEBUG - 用户 78 分配了数据块: [463, 143, 410, 91, 242, 165, 216]
2026-01-05 20:15:32,548 - task_2 - DEBUG - 用户 79 分配了数据块: [133, 422, 418, 70, 464, 359, 428]
2026-01-05 20:15:32,548 - task_2 - DEBUG - 用户 80 分配了数据块: [297, 32, 206, 218, 169, 304]
2026-01-05 20:15:32,548 - task_2 - DEBUG - 用户 81 分配了数据块: [224, 114, 362, 379]
2026-01-05 20:15:32,548 - task_2 - DEBUG - 用户 82 分配了数据块: [377, 320, 214, 466]
2026-01-05 20:15:32,548 - task_2 - DEBUG - 用户 83 分配了数据块: [472, 114, 341, 427, 54, 147, 34, 362]
2026-01-05 20:15:32,548 - task_2 - DEBUG - 用户 84 分配了数据块: [13, 390, 142, 459, 216]
2026-01-05 20:15:32,548 - task_2 - DEBUG - 用户 85 分配了数据块: [255, 186, 429, 80]
2026-01-05 20:15:32,548 - task_2 - DEBUG - 用户 86 分配了数据块: [273, 273, 140, 11, 436, 299, 360, 470, 486]
2026-01-05 20:15:32,548 - task_2 - DEBUG - 用户 87 分配了数据块: [170, 214, 373, 46, 111, 316]
2026-01-05 20:15:32,548 - task_2 - DEBUG - 用户 88 分配了数据块: [352, 55, 462, 319, 223, 82, 277]
2026-01-05 20:15:32,548 - task_2 - DEBUG - 用户 89 分配了数据块: [240, 311, 407, 352, 306, 315]
2026-01-05 20:15:32,548 - task_2 - DEBUG - 用户 90 分配了数据块: [29, 280, 333, 387, 211, 431, 76, 493, 217, 291]
2026-01-05 20:15:32,548 - task_2 - DEBUG - 用户 91 分配了数据块: [303, 153, 119, 144, 308, 140, 99, 306]
2026-01-05 20:15:32,548 - task_2 - DEBUG - 用户 92 分配了数据块: [18, 180, 233]
2026-01-05 20:15:32,548 - task_2 - DEBUG - 用户 93 分配了数据块: [467, 487, 58, 201, 120, 61, 295]
2026-01-05 20:15:32,548 - task_2 - DEBUG - 用户 94 分配了数据块: [90, 118, 255, 452, 384, 317, 35, 228, 162, 236]
2026-01-05 20:15:32,548 - task_2 - DEBUG - 用户 95 分配了数据块: [381, 250, 402, 385, 472, 357]
2026-01-05 20:15:32,548 - task_2 - DEBUG - 用户 96 分配了数据块: [331, 153, 67, 100, 220, 491, 85, 475, 293, 258]
2026-01-05 20:15:32,548 - task_2 - DEBUG - 用户 97 分配了数据块: [360, 286, 342, 187]
2026-01-05 20:15:32,548 - task_2 - DEBUG - 用户 98 分配了数据块: [264, 498]
2026-01-05 20:15:32,549 - task_2 - DEBUG - 用户 99 分配了数据块: [440, 3, 251, 122, 51, 332, 297]
2026-01-05 20:15:32,549 - task_2 - INFO - 加载用户数据分配完成，共 100 个可用用户
2026-01-05 20:15:32,549 - task_2 - INFO - 数据加载完成
2026-01-05 20:15:32,584 - task_2 - DEBUG - 任务 2 状态更新为: running
2026-01-05 20:15:32,591 - task_2 - DEBUG - 任务 2 当前轮次更新为: 0
2026-01-05 20:15:32,591 - task_2 - INFO - 联邦学习任务 2 初始化完成 - 模型:r8, 数据集:CIFAR10, 轮数:5
2026-01-05 20:15:32,594 - task_2 - INFO - 启动联邦学习任务 2...
2026-01-05 20:15:32,595 - task_2 - INFO - 联邦训练线程 2 已启动
2026-01-05 20:15:32,595 - task_2 - WARNING - 任务 2: 当前用户数 0 少于2人，训练挂起
2026-01-05 20:15:32,599 - task_2 - DEBUG - 任务 2 状态更新为: paused
2026-01-05 20:15:35,479 - task_2 - INFO - 尝试添加用户 10 到联邦
2026-01-05 20:15:35,479 - task_2 - INFO - 开始为 1 个联邦用户构建训练数据
2026-01-05 20:15:35,479 - task_2 - INFO - 用户 10 的数据块: [5, 3, 2, 0]
2026-01-05 20:15:35,479 - task_2 - INFO - 用户 10 有 742 个训练样本
2026-01-05 20:15:35,479 - task_2 - INFO - 训练数据构建完成，共 1 个联邦用户
2026-01-05 20:15:35,479 - task_2 - INFO - 用户 10 已成功加入联邦
2026-01-05 20:18:10,208 - task_2 - INFO - 尝试添加用户 4 到联邦
2026-01-05 20:18:10,209 - task_2 - INFO - 开始为 2 个联邦用户构建训练数据
2026-01-05 20:18:10,209 - task_2 - INFO - 用户 10 的数据块: [5, 3, 2, 0]
2026-01-05 20:18:10,209 - task_2 - INFO - 用户 10 有 742 个训练样本
2026-01-05 20:18:10,209 - task_2 - INFO - 用户 4 的数据块: []
2026-01-05 20:18:10,209 - task_2 - WARNING - 用户 4 没有有效数据
2026-01-05 20:18:10,209 - task_2 - INFO - 用户 4 使用测试数据，样本数: 100
2026-01-05 20:18:10,209 - task_2 - INFO - 训练数据构建完成，共 2 个联邦用户
2026-01-05 20:18:10,209 - task_2 - INFO - 用户 4 已成功加入联邦
2026-01-05 20:18:12,855 - task_2 - INFO - 任务 2: 当前用户数 2 达到要求，恢复训练
2026-01-05 20:18:12,860 - task_2 - DEBUG - 任务 2 状态更新为: running
2026-01-05 20:18:12,860 - task_2 - INFO - 任务 2: 开始第 1 轮联邦训练，当前用户数: 2
2026-01-05 20:18:12,861 - task_2 - INFO - Server Epoch:1 choose agents : [10, 4].
2026-01-05 20:18:13,040 - task_2 - INFO - ___Local_Train , g_epoch   1, l_epoch   1, local model 10,  Average loss: 1.9741, Accuracy: 286/742 (38.5445%)
2026-01-05 20:18:13,180 - task_2 - INFO - ___Local_Train , g_epoch   1, l_epoch   2, local model 10,  Average loss: 1.7404, Accuracy: 331/742 (44.6092%)
2026-01-05 20:18:13,212 - task_2 - INFO - ___Local_Train , g_epoch   1, l_epoch   1, local model 4,  Average loss: 2.4109, Accuracy: 5/100 (5.0000%)
2026-01-05 20:18:13,231 - task_2 - INFO - ___Local_Train , g_epoch   1, l_epoch   2, local model 4,  Average loss: 2.3248, Accuracy: 9/100 (9.0000%)
2026-01-05 20:18:14,337 - task_2 - INFO - ___Global_Test___g_epoch:1  Average loss: 2.3038 Accuracy: 1000/10000 (10.00%)
2026-01-05 20:18:14,337 - task_2 - INFO - 开始第 1 轮贡献度评估，参与用户: [10, 4]
2026-01-05 20:18:14,337 - task_2 - INFO - 开始计算Shapley值，用户数: 2
2026-01-05 20:18:14,337 - task_2 - INFO - 生成了 2 种排列
2026-01-05 20:18:14,337 - task_2 - INFO - Shapley计算进度: 0/2
2026-01-05 20:18:20,771 - task_2 - INFO - Shapley值计算完成: {10: 0.549, 4: 0.451}
2026-01-05 20:18:20,772 - task_2 - INFO - 第 1 轮贡献度记录已保存
2026-01-05 20:18:20,773 - task_2 - INFO - 第 1 轮贡献度评估完成: {10: 0.549, 4: 0.451}
2026-01-05 20:18:20,775 - task_2 - INFO - 任务 2 第 1 轮全局准确度 10.00% 已记录到数据库
2026-01-05 20:18:20,775 - task_2 - INFO - Epoch 1 completed in 7.91 seconds
2026-01-05 20:18:35,775 - task_2 - INFO - Server Epoch:2 choose agents : [10, 4].
2026-01-05 20:18:36,065 - task_2 - INFO - ___Local_Train , g_epoch   2, l_epoch   1, local model 10,  Average loss: 1.5676, Accuracy: 375/742 (50.5391%)
2026-01-05 20:18:36,342 - task_2 - INFO - ___Local_Train , g_epoch   2, l_epoch   2, local model 10,  Average loss: 1.4876, Accuracy: 371/742 (50.0000%)
2026-01-05 20:18:36,382 - task_2 - INFO - ___Local_Train , g_epoch   2, l_epoch   1, local model 4,  Average loss: 2.2053, Accuracy: 16/100 (16.0000%)
2026-01-05 20:18:36,415 - task_2 - INFO - ___Local_Train , g_epoch   2, l_epoch   2, local model 4,  Average loss: 2.1078, Accuracy: 22/100 (22.0000%)
2026-01-05 20:18:38,646 - task_2 - INFO - ___Global_Test___g_epoch:2  Average loss: 2.3181 Accuracy: 1000/10000 (10.00%)
2026-01-05 20:18:38,646 - task_2 - INFO - 开始第 2 轮贡献度评估，参与用户: [10, 4]
2026-01-05 20:18:38,646 - task_2 - INFO - 开始计算Shapley值，用户数: 2
2026-01-05 20:18:38,647 - task_2 - INFO - 生成了 2 种排列
2026-01-05 20:18:38,647 - task_2 - INFO - Shapley计算进度: 0/2
2026-01-05 20:18:44,126 - task_2 - INFO - Shapley值计算完成: {10: 0.5, 4: 0.5}
2026-01-05 20:18:44,127 - task_2 - INFO - 第 2 轮贡献度记录已保存
2026-01-05 20:18:44,127 - task_2 - INFO - 第 2 轮贡献度评估完成: {10: 0.5, 4: 0.5}
2026-01-05 20:18:44,129 - task_2 - INFO - 任务 2 第 2 轮全局准确度 10.00% 已记录到数据库
2026-01-05 20:18:44,129 - task_2 - INFO - Epoch 2 completed in 8.35 seconds
2026-01-05 20:18:59,129 - task_2 - INFO - Server Epoch:3 choose agents : [10, 4].
2026-01-05 20:18:59,393 - task_2 - INFO - ___Local_Train , g_epoch   3, l_epoch   1, local model 10,  Average loss: 1.4959, Accuracy: 393/742 (52.9650%)
2026-01-05 20:18:59,636 - task_2 - INFO - ___Local_Train , g_epoch   3, l_epoch   2, local model 10,  Average loss: 1.4272, Accuracy: 401/742 (54.0431%)
2026-01-05 20:18:59,674 - task_2 - INFO - ___Local_Train , g_epoch   3, l_epoch   1, local model 4,  Average loss: 2.0440, Accuracy: 25/100 (25.0000%)
2026-01-05 20:18:59,708 - task_2 - INFO - ___Local_Train , g_epoch   3, l_epoch   2, local model 4,  Average loss: 1.9678, Accuracy: 27/100 (27.0000%)
2026-01-05 20:19:01,639 - task_2 - INFO - ___Global_Test___g_epoch:3  Average loss: 2.3867 Accuracy: 1000/10000 (10.00%)
2026-01-05 20:19:01,639 - task_2 - INFO - 开始第 3 轮贡献度评估，参与用户: [10, 4]
2026-01-05 20:19:01,639 - task_2 - INFO - 开始计算Shapley值，用户数: 2
2026-01-05 20:19:01,639 - task_2 - INFO - 生成了 2 种排列
2026-01-05 20:19:01,639 - task_2 - INFO - Shapley计算进度: 0/2
2026-01-05 20:19:08,914 - task_2 - INFO - Shapley值计算完成: {10: 0.5045, 4: 0.4955}
2026-01-05 20:19:08,916 - task_2 - INFO - 第 3 轮贡献度记录已保存
2026-01-05 20:19:08,916 - task_2 - INFO - 第 3 轮贡献度评估完成: {10: 0.5045, 4: 0.4955}
2026-01-05 20:19:08,931 - task_2 - INFO - 任务 2 第 3 轮全局准确度 10.00% 已记录到数据库
2026-01-05 20:19:08,932 - task_2 - INFO - Epoch 3 completed in 9.80 seconds
2026-01-05 20:19:23,932 - task_2 - INFO - Server Epoch:4 choose agents : [10, 4].
2026-01-05 20:19:24,094 - task_2 - INFO - ___Local_Train , g_epoch   4, l_epoch   1, local model 10,  Average loss: 1.4066, Accuracy: 397/742 (53.5040%)
2026-01-05 20:19:24,236 - task_2 - INFO - ___Local_Train , g_epoch   4, l_epoch   2, local model 10,  Average loss: 1.3718, Accuracy: 404/742 (54.4474%)
2026-01-05 20:19:24,258 - task_2 - INFO - ___Local_Train , g_epoch   4, l_epoch   1, local model 4,  Average loss: 2.0255, Accuracy: 25/100 (25.0000%)
2026-01-05 20:19:24,277 - task_2 - INFO - ___Local_Train , g_epoch   4, l_epoch   2, local model 4,  Average loss: 1.8880, Accuracy: 36/100 (36.0000%)
2026-01-05 20:19:25,353 - task_2 - INFO - ___Global_Test___g_epoch:4  Average loss: 2.2696 Accuracy: 1022/10000 (10.22%)
2026-01-05 20:19:25,353 - task_2 - INFO - 开始第 4 轮贡献度评估，参与用户: [10, 4]
2026-01-05 20:19:25,353 - task_2 - INFO - 开始计算Shapley值，用户数: 2
2026-01-05 20:19:25,353 - task_2 - INFO - 生成了 2 种排列
2026-01-05 20:19:25,353 - task_2 - INFO - Shapley计算进度: 0/2
2026-01-05 20:19:29,673 - task_2 - INFO - Shapley值计算完成: {10: 0.783757338551859, 4: 0.2162426614481409}
2026-01-05 20:19:29,674 - task_2 - INFO - 第 4 轮贡献度记录已保存
2026-01-05 20:19:29,674 - task_2 - INFO - 第 4 轮贡献度评估完成: {10: 0.783757338551859, 4: 0.2162426614481409}
2026-01-05 20:19:29,690 - task_2 - INFO - 任务 2 第 4 轮全局准确度 10.22% 已记录到数据库
2026-01-05 20:19:29,690 - task_2 - INFO - Epoch 4 completed in 5.76 seconds
2026-01-05 20:19:44,690 - task_2 - INFO - Server Epoch:5 choose agents : [10, 4].
2026-01-05 20:19:44,944 - task_2 - INFO - ___Local_Train , g_epoch   5, l_epoch   1, local model 10,  Average loss: 1.3703, Accuracy: 401/742 (54.0431%)
2026-01-05 20:19:45,204 - task_2 - INFO - ___Local_Train , g_epoch   5, l_epoch   2, local model 10,  Average loss: 1.3431, Accuracy: 410/742 (55.2561%)
2026-01-05 20:19:45,245 - task_2 - INFO - ___Local_Train , g_epoch   5, l_epoch   1, local model 4,  Average loss: 1.9547, Accuracy: 32/100 (32.0000%)
2026-01-05 20:19:45,276 - task_2 - INFO - ___Local_Train , g_epoch   5, l_epoch   2, local model 4,  Average loss: 1.8360, Accuracy: 36/100 (36.0000%)
2026-01-05 20:19:47,506 - task_2 - INFO - ___Global_Test___g_epoch:5  Average loss: 2.3161 Accuracy: 1164/10000 (11.64%)
2026-01-05 20:19:47,506 - task_2 - INFO - 开始第 5 轮贡献度评估，参与用户: [10, 4]
2026-01-05 20:19:47,506 - task_2 - INFO - 开始计算Shapley值，用户数: 2
2026-01-05 20:19:47,506 - task_2 - INFO - 生成了 2 种排列
2026-01-05 20:19:47,506 - task_2 - INFO - Shapley计算进度: 0/2
2026-01-05 20:19:54,916 - task_2 - INFO - Shapley值计算完成: {10: 0.7298109965635738, 4: 0.27018900343642616}
2026-01-05 20:19:54,918 - task_2 - INFO - 第 5 轮贡献度记录已保存
2026-01-05 20:19:54,918 - task_2 - INFO - 第 5 轮贡献度评估完成: {10: 0.7298109965635738, 4: 0.27018900343642616}
2026-01-05 20:19:54,933 - task_2 - INFO - 任务 2 第 5 轮全局准确度 11.64% 已记录到数据库
2026-01-05 20:19:54,933 - task_2 - INFO - Epoch 5 completed in 10.24 seconds
2026-01-05 20:20:09,952 - task_2 - DEBUG - 任务 2 当前轮次更新为: 1
2026-01-05 20:20:09,952 - task_2 - INFO - 任务 2: 开始第 2 轮联邦训练，当前用户数: 2
2026-01-05 20:20:09,953 - task_2 - INFO - Server Epoch:2 choose agents : [10, 4].
2026-01-05 20:20:10,113 - task_2 - INFO - ___Local_Train , g_epoch   2, l_epoch   1, local model 10,  Average loss: 1.3312, Accuracy: 408/742 (54.9865%)
2026-01-05 20:20:10,256 - task_2 - INFO - ___Local_Train , g_epoch   2, l_epoch   2, local model 10,  Average loss: 1.3079, Accuracy: 433/742 (58.3558%)
2026-01-05 20:20:10,279 - task_2 - INFO - ___Local_Train , g_epoch   2, l_epoch   1, local model 4,  Average loss: 1.8575, Accuracy: 28/100 (28.0000%)
2026-01-05 20:20:10,298 - task_2 - INFO - ___Local_Train , g_epoch   2, l_epoch   2, local model 4,  Average loss: 1.7628, Accuracy: 39/100 (39.0000%)
2026-01-05 20:20:11,371 - task_2 - INFO - ___Global_Test___g_epoch:2  Average loss: 2.2024 Accuracy: 1460/10000 (14.60%)
2026-01-05 20:20:11,371 - task_2 - INFO - 开始第 2 轮贡献度评估，参与用户: [10, 4]
2026-01-05 20:20:11,371 - task_2 - INFO - 开始计算Shapley值，用户数: 2
2026-01-05 20:20:11,371 - task_2 - INFO - 生成了 2 种排列
2026-01-05 20:20:11,371 - task_2 - INFO - Shapley计算进度: 0/2
2026-01-05 20:20:15,793 - task_2 - INFO - Shapley值计算完成: {10: 0.4712328767123288, 4: 0.5287671232876712}
2026-01-05 20:20:15,794 - task_2 - INFO - 第 2 轮贡献度记录已保存
2026-01-05 20:20:15,794 - task_2 - INFO - 第 2 轮贡献度评估完成: {10: 0.4712328767123288, 4: 0.5287671232876712}
2026-01-05 20:20:15,795 - task_2 - ERROR - 记录全局准确度失败: UNIQUE constraint failed: federation_app_globalaccuracy.task_id, federation_app_globalaccuracy.epoch
2026-01-05 20:20:15,795 - task_2 - INFO - Epoch 2 completed in 5.84 seconds
2026-01-05 20:20:30,795 - task_2 - INFO - Server Epoch:3 choose agents : [10, 4].
2026-01-05 20:20:31,037 - task_2 - INFO - ___Local_Train , g_epoch   3, l_epoch   1, local model 10,  Average loss: 1.2906, Accuracy: 415/742 (55.9299%)
2026-01-05 20:20:31,313 - task_2 - INFO - ___Local_Train , g_epoch   3, l_epoch   2, local model 10,  Average loss: 1.2590, Accuracy: 436/742 (58.7601%)
2026-01-05 20:20:31,358 - task_2 - INFO - ___Local_Train , g_epoch   3, l_epoch   1, local model 4,  Average loss: 1.8429, Accuracy: 34/100 (34.0000%)
2026-01-05 20:20:31,394 - task_2 - INFO - ___Local_Train , g_epoch   3, l_epoch   2, local model 4,  Average loss: 1.7341, Accuracy: 38/100 (38.0000%)
2026-01-05 20:20:33,304 - task_2 - INFO - ___Global_Test___g_epoch:3  Average loss: 2.0746 Accuracy: 2152/10000 (21.52%)
2026-01-05 20:20:33,305 - task_2 - INFO - 开始第 3 轮贡献度评估，参与用户: [10, 4]
2026-01-05 20:20:33,305 - task_2 - INFO - 开始计算Shapley值，用户数: 2
2026-01-05 20:20:33,305 - task_2 - INFO - 生成了 2 种排列
2026-01-05 20:20:33,305 - task_2 - INFO - Shapley计算进度: 0/2
2026-01-05 20:20:40,883 - task_2 - INFO - Shapley值计算完成: {10: 0.49790892193308556, 4: 0.5020910780669144}
2026-01-05 20:20:40,884 - task_2 - INFO - 第 3 轮贡献度记录已保存
2026-01-05 20:20:40,884 - task_2 - INFO - 第 3 轮贡献度评估完成: {10: 0.49790892193308556, 4: 0.5020910780669144}
2026-01-05 20:20:40,885 - task_2 - ERROR - 记录全局准确度失败: UNIQUE constraint failed: federation_app_globalaccuracy.task_id, federation_app_globalaccuracy.epoch
2026-01-05 20:20:40,885 - task_2 - INFO - Epoch 3 completed in 10.09 seconds
2026-01-05 20:20:55,885 - task_2 - INFO - Server Epoch:4 choose agents : [10, 4].
2026-01-05 20:20:56,048 - task_2 - INFO - ___Local_Train , g_epoch   4, l_epoch   1, local model 10,  Average loss: 1.2858, Accuracy: 439/742 (59.1644%)
2026-01-05 20:20:56,207 - task_2 - INFO - ___Local_Train , g_epoch   4, l_epoch   2, local model 10,  Average loss: 1.2196, Accuracy: 439/742 (59.1644%)
2026-01-05 20:20:56,230 - task_2 - INFO - ___Local_Train , g_epoch   4, l_epoch   1, local model 4,  Average loss: 1.7606, Accuracy: 31/100 (31.0000%)
2026-01-05 20:20:56,250 - task_2 - INFO - ___Local_Train , g_epoch   4, l_epoch   2, local model 4,  Average loss: 1.6550, Accuracy: 38/100 (38.0000%)
2026-01-05 20:20:57,329 - task_2 - INFO - ___Global_Test___g_epoch:4  Average loss: 2.1028 Accuracy: 2299/10000 (22.99%)
2026-01-05 20:20:57,329 - task_2 - INFO - 开始第 4 轮贡献度评估，参与用户: [10, 4]
2026-01-05 20:20:57,329 - task_2 - INFO - 开始计算Shapley值，用户数: 2
2026-01-05 20:20:57,329 - task_2 - INFO - 生成了 2 种排列
2026-01-05 20:20:57,329 - task_2 - INFO - Shapley计算进度: 0/2
2026-01-05 20:21:11,157 - task_2 - INFO - Shapley值计算完成: {10: 0.453675511091779, 4: 0.5463244889082209}
2026-01-05 20:21:11,161 - task_2 - INFO - 第 4 轮贡献度记录已保存
2026-01-05 20:21:11,162 - task_2 - INFO - 第 4 轮贡献度评估完成: {10: 0.453675511091779, 4: 0.5463244889082209}
2026-01-05 20:21:11,163 - task_2 - ERROR - 记录全局准确度失败: UNIQUE constraint failed: federation_app_globalaccuracy.task_id, federation_app_globalaccuracy.epoch
2026-01-05 20:21:11,163 - task_2 - INFO - Epoch 4 completed in 15.28 seconds
2026-01-05 20:21:26,163 - task_2 - INFO - Server Epoch:5 choose agents : [10, 4].
2026-01-05 20:21:26,461 - task_2 - INFO - ___Local_Train , g_epoch   5, l_epoch   1, local model 10,  Average loss: 1.2252, Accuracy: 455/742 (61.3208%)
2026-01-05 20:21:26,713 - task_2 - INFO - ___Local_Train , g_epoch   5, l_epoch   2, local model 10,  Average loss: 1.2207, Accuracy: 448/742 (60.3774%)
2026-01-05 20:21:26,752 - task_2 - INFO - ___Local_Train , g_epoch   5, l_epoch   1, local model 4,  Average loss: 1.7361, Accuracy: 32/100 (32.0000%)
2026-01-05 20:21:26,786 - task_2 - INFO - ___Local_Train , g_epoch   5, l_epoch   2, local model 4,  Average loss: 1.6476, Accuracy: 43/100 (43.0000%)
2026-01-05 20:21:28,592 - task_2 - INFO - ___Global_Test___g_epoch:5  Average loss: 2.0864 Accuracy: 2270/10000 (22.70%)
2026-01-05 20:21:28,592 - task_2 - INFO - 开始第 5 轮贡献度评估，参与用户: [10, 4]
2026-01-05 20:21:28,592 - task_2 - INFO - 开始计算Shapley值，用户数: 2
2026-01-05 20:21:28,592 - task_2 - INFO - 生成了 2 种排列
2026-01-05 20:21:28,592 - task_2 - INFO - Shapley计算进度: 0/2
2026-01-05 20:21:44,995 - task_2 - INFO - Shapley值计算完成: {10: 0.45814977973568277, 4: 0.5418502202643172}
2026-01-05 20:21:44,999 - task_2 - INFO - 第 5 轮贡献度记录已保存
2026-01-05 20:21:44,999 - task_2 - INFO - 第 5 轮贡献度评估完成: {10: 0.45814977973568277, 4: 0.5418502202643172}
2026-01-05 20:21:45,000 - task_2 - ERROR - 记录全局准确度失败: UNIQUE constraint failed: federation_app_globalaccuracy.task_id, federation_app_globalaccuracy.epoch
2026-01-05 20:21:45,000 - task_2 - INFO - Epoch 5 completed in 18.84 seconds
2026-01-05 20:22:00,019 - task_2 - DEBUG - 任务 2 当前轮次更新为: 2
2026-01-05 20:22:00,020 - task_2 - INFO - 任务 2: 开始第 3 轮联邦训练，当前用户数: 2
2026-01-05 20:22:00,021 - task_2 - INFO - Server Epoch:3 choose agents : [10, 4].
2026-01-05 20:22:00,179 - task_2 - INFO - ___Local_Train , g_epoch   3, l_epoch   1, local model 10,  Average loss: 1.1756, Accuracy: 470/742 (63.3423%)
2026-01-05 20:22:00,328 - task_2 - INFO - ___Local_Train , g_epoch   3, l_epoch   2, local model 10,  Average loss: 1.1724, Accuracy: 465/742 (62.6685%)
2026-01-05 20:22:00,352 - task_2 - INFO - ___Local_Train , g_epoch   3, l_epoch   1, local model 4,  Average loss: 1.6978, Accuracy: 36/100 (36.0000%)
2026-01-05 20:22:00,371 - task_2 - INFO - ___Local_Train , g_epoch   3, l_epoch   2, local model 4,  Average loss: 1.6072, Accuracy: 39/100 (39.0000%)
2026-01-05 20:22:01,472 - task_2 - INFO - ___Global_Test___g_epoch:3  Average loss: 1.9989 Accuracy: 2659/10000 (26.59%)
2026-01-05 20:22:01,472 - task_2 - INFO - 开始第 3 轮贡献度评估，参与用户: [10, 4]
2026-01-05 20:22:01,472 - task_2 - INFO - 开始计算Shapley值，用户数: 2
2026-01-05 20:22:01,472 - task_2 - INFO - 生成了 2 种排列
2026-01-05 20:22:01,472 - task_2 - INFO - Shapley计算进度: 0/2
2026-01-05 20:22:08,350 - task_2 - INFO - Shapley值计算完成: {10: 0.470477623166604, 4: 0.529522376833396}
2026-01-05 20:22:08,351 - task_2 - INFO - 第 3 轮贡献度记录已保存
2026-01-05 20:22:08,351 - task_2 - INFO - 第 3 轮贡献度评估完成: {10: 0.470477623166604, 4: 0.529522376833396}
2026-01-05 20:22:08,352 - task_2 - ERROR - 记录全局准确度失败: UNIQUE constraint failed: federation_app_globalaccuracy.task_id, federation_app_globalaccuracy.epoch
2026-01-05 20:22:08,352 - task_2 - INFO - Epoch 3 completed in 8.33 seconds
2026-01-05 20:22:23,352 - task_2 - INFO - Server Epoch:4 choose agents : [10, 4].
2026-01-05 20:22:23,698 - task_2 - INFO - ___Local_Train , g_epoch   4, l_epoch   1, local model 10,  Average loss: 1.1656, Accuracy: 465/742 (62.6685%)
2026-01-05 20:22:23,995 - task_2 - INFO - ___Local_Train , g_epoch   4, l_epoch   2, local model 10,  Average loss: 1.1416, Accuracy: 464/742 (62.5337%)
2026-01-05 20:22:24,036 - task_2 - INFO - ___Local_Train , g_epoch   4, l_epoch   1, local model 4,  Average loss: 1.7051, Accuracy: 33/100 (33.0000%)
2026-01-05 20:22:24,069 - task_2 - INFO - ___Local_Train , g_epoch   4, l_epoch   2, local model 4,  Average loss: 1.5887, Accuracy: 41/100 (41.0000%)
2026-01-05 20:22:25,941 - task_2 - INFO - ___Global_Test___g_epoch:4  Average loss: 2.1684 Accuracy: 2386/10000 (23.86%)
2026-01-05 20:22:25,941 - task_2 - INFO - 开始第 4 轮贡献度评估，参与用户: [10, 4]
2026-01-05 20:22:25,941 - task_2 - INFO - 开始计算Shapley值，用户数: 2
2026-01-05 20:22:25,941 - task_2 - INFO - 生成了 2 种排列
2026-01-05 20:22:25,941 - task_2 - INFO - Shapley计算进度: 0/2
2026-01-05 20:22:31,332 - task_2 - INFO - Shapley值计算完成: {10: 0.4576697401508801, 4: 0.5423302598491199}
2026-01-05 20:22:31,333 - task_2 - INFO - 第 4 轮贡献度记录已保存
2026-01-05 20:22:31,333 - task_2 - INFO - 第 4 轮贡献度评估完成: {10: 0.4576697401508801, 4: 0.5423302598491199}
2026-01-05 20:22:31,334 - task_2 - ERROR - 记录全局准确度失败: UNIQUE constraint failed: federation_app_globalaccuracy.task_id, federation_app_globalaccuracy.epoch
2026-01-05 20:22:31,334 - task_2 - INFO - Epoch 4 completed in 7.98 seconds
2026-01-05 20:22:46,334 - task_2 - INFO - Server Epoch:5 choose agents : [10, 4].
2026-01-05 20:22:46,638 - task_2 - INFO - ___Local_Train , g_epoch   5, l_epoch   1, local model 10,  Average loss: 1.1163, Accuracy: 461/742 (62.1294%)
2026-01-05 20:22:46,890 - task_2 - INFO - ___Local_Train , g_epoch   5, l_epoch   2, local model 10,  Average loss: 1.1156, Accuracy: 462/742 (62.2641%)
2026-01-05 20:22:46,929 - task_2 - INFO - ___Local_Train , g_epoch   5, l_epoch   1, local model 4,  Average loss: 1.6278, Accuracy: 39/100 (39.0000%)
2026-01-05 20:22:46,964 - task_2 - INFO - ___Local_Train , g_epoch   5, l_epoch   2, local model 4,  Average loss: 1.5037, Accuracy: 45/100 (45.0000%)
2026-01-05 20:22:48,750 - task_2 - INFO - ___Global_Test___g_epoch:5  Average loss: 2.0288 Accuracy: 2605/10000 (26.05%)
2026-01-05 20:22:48,750 - task_2 - INFO - 开始第 5 轮贡献度评估，参与用户: [10, 4]
2026-01-05 20:22:48,750 - task_2 - INFO - 开始计算Shapley值，用户数: 2
2026-01-05 20:22:48,750 - task_2 - INFO - 生成了 2 种排列
2026-01-05 20:22:48,750 - task_2 - INFO - Shapley计算进度: 0/2
2026-01-05 20:22:55,931 - task_2 - INFO - Shapley值计算完成: {10: 0.399232245681382, 4: 0.6007677543186181}
2026-01-05 20:22:55,932 - task_2 - INFO - 第 5 轮贡献度记录已保存
2026-01-05 20:22:55,932 - task_2 - INFO - 第 5 轮贡献度评估完成: {10: 0.399232245681382, 4: 0.6007677543186181}
2026-01-05 20:22:55,933 - task_2 - ERROR - 记录全局准确度失败: UNIQUE constraint failed: federation_app_globalaccuracy.task_id, federation_app_globalaccuracy.epoch
2026-01-05 20:22:55,933 - task_2 - INFO - Epoch 5 completed in 9.60 seconds
2026-01-05 20:23:10,951 - task_2 - DEBUG - 任务 2 当前轮次更新为: 3
2026-01-05 20:23:10,952 - task_2 - INFO - 任务 2: 开始第 4 轮联邦训练，当前用户数: 2
2026-01-05 20:23:10,952 - task_2 - INFO - Server Epoch:4 choose agents : [10, 4].
2026-01-05 20:23:11,123 - task_2 - INFO - ___Local_Train , g_epoch   4, l_epoch   1, local model 10,  Average loss: 1.0607, Accuracy: 486/742 (65.4986%)
2026-01-05 20:23:11,265 - task_2 - INFO - ___Local_Train , g_epoch   4, l_epoch   2, local model 10,  Average loss: 1.1120, Accuracy: 465/742 (62.6685%)
2026-01-05 20:23:11,287 - task_2 - INFO - ___Local_Train , g_epoch   4, l_epoch   1, local model 4,  Average loss: 1.6741, Accuracy: 40/100 (40.0000%)
2026-01-05 20:23:11,307 - task_2 - INFO - ___Local_Train , g_epoch   4, l_epoch   2, local model 4,  Average loss: 1.4822, Accuracy: 46/100 (46.0000%)
2026-01-05 20:23:12,390 - task_2 - INFO - ___Global_Test___g_epoch:4  Average loss: 1.9605 Accuracy: 2974/10000 (29.74%)
2026-01-05 20:23:12,390 - task_2 - INFO - 开始第 4 轮贡献度评估，参与用户: [10, 4]
2026-01-05 20:23:12,390 - task_2 - INFO - 开始计算Shapley值，用户数: 2
2026-01-05 20:23:12,390 - task_2 - INFO - 生成了 2 种排列
2026-01-05 20:23:12,390 - task_2 - INFO - Shapley计算进度: 0/2
2026-01-05 20:23:16,716 - task_2 - INFO - Shapley值计算完成: {10: 0.4544384667114996, 4: 0.5455615332885003}
2026-01-05 20:23:16,716 - task_2 - INFO - 第 4 轮贡献度记录已保存
2026-01-05 20:23:16,716 - task_2 - INFO - 第 4 轮贡献度评估完成: {10: 0.4544384667114996, 4: 0.5455615332885003}
2026-01-05 20:23:16,717 - task_2 - ERROR - 记录全局准确度失败: UNIQUE constraint failed: federation_app_globalaccuracy.task_id, federation_app_globalaccuracy.epoch
2026-01-05 20:23:16,717 - task_2 - INFO - Epoch 4 completed in 5.77 seconds
2026-01-05 20:23:31,717 - task_2 - INFO - Server Epoch:5 choose agents : [10, 4].
2026-01-05 20:23:32,024 - task_2 - INFO - ___Local_Train , g_epoch   5, l_epoch   1, local model 10,  Average loss: 1.1189, Accuracy: 449/742 (60.5121%)
2026-01-05 20:23:32,265 - task_2 - INFO - ___Local_Train , g_epoch   5, l_epoch   2, local model 10,  Average loss: 1.1186, Accuracy: 465/742 (62.6685%)
2026-01-05 20:23:32,300 - task_2 - INFO - ___Local_Train , g_epoch   5, l_epoch   1, local model 4,  Average loss: 1.5587, Accuracy: 42/100 (42.0000%)
2026-01-05 20:23:32,331 - task_2 - INFO - ___Local_Train , g_epoch   5, l_epoch   2, local model 4,  Average loss: 1.4589, Accuracy: 44/100 (44.0000%)
2026-01-05 20:23:34,039 - task_2 - INFO - ___Global_Test___g_epoch:5  Average loss: 2.0513 Accuracy: 2957/10000 (29.57%)
2026-01-05 20:23:34,039 - task_2 - INFO - 开始第 5 轮贡献度评估，参与用户: [10, 4]
2026-01-05 20:23:34,039 - task_2 - INFO - 开始计算Shapley值，用户数: 2
2026-01-05 20:23:34,039 - task_2 - INFO - 生成了 2 种排列
2026-01-05 20:23:34,039 - task_2 - INFO - Shapley计算进度: 0/2
2026-01-05 20:23:41,151 - task_2 - INFO - Shapley值计算完成: {10: 0.4529928982076429, 4: 0.5470071017923571}
2026-01-05 20:23:41,153 - task_2 - INFO - 第 5 轮贡献度记录已保存
2026-01-05 20:23:41,153 - task_2 - INFO - 第 5 轮贡献度评估完成: {10: 0.4529928982076429, 4: 0.5470071017923571}
2026-01-05 20:23:41,154 - task_2 - ERROR - 记录全局准确度失败: UNIQUE constraint failed: federation_app_globalaccuracy.task_id, federation_app_globalaccuracy.epoch
2026-01-05 20:23:41,154 - task_2 - INFO - Epoch 5 completed in 9.44 seconds
2026-01-05 20:23:56,182 - task_2 - DEBUG - 任务 2 当前轮次更新为: 4
2026-01-05 20:23:56,182 - task_2 - INFO - 任务 2: 开始第 5 轮联邦训练，当前用户数: 2
2026-01-05 20:23:56,183 - task_2 - INFO - Server Epoch:5 choose agents : [10, 4].
2026-01-05 20:23:56,341 - task_2 - INFO - ___Local_Train , g_epoch   5, l_epoch   1, local model 10,  Average loss: 1.0663, Accuracy: 490/742 (66.0377%)
2026-01-05 20:23:56,528 - task_2 - INFO - ___Local_Train , g_epoch   5, l_epoch   2, local model 10,  Average loss: 1.0906, Accuracy: 476/742 (64.1509%)
2026-01-05 20:23:56,551 - task_2 - INFO - ___Local_Train , g_epoch   5, l_epoch   1, local model 4,  Average loss: 1.6054, Accuracy: 40/100 (40.0000%)
2026-01-05 20:23:56,571 - task_2 - INFO - ___Local_Train , g_epoch   5, l_epoch   2, local model 4,  Average loss: 1.3982, Accuracy: 50/100 (50.0000%)
2026-01-05 20:23:57,660 - task_2 - INFO - ___Global_Test___g_epoch:5  Average loss: 2.0273 Accuracy: 2783/10000 (27.83%)
2026-01-05 20:23:57,660 - task_2 - INFO - 开始第 5 轮贡献度评估，参与用户: [10, 4]
2026-01-05 20:23:57,660 - task_2 - INFO - 开始计算Shapley值，用户数: 2
2026-01-05 20:23:57,660 - task_2 - INFO - 生成了 2 种排列
2026-01-05 20:23:57,660 - task_2 - INFO - Shapley计算进度: 0/2
2026-01-05 20:24:01,997 - task_2 - INFO - Shapley值计算完成: {10: 0.4376572044556234, 4: 0.5623427955443766}
2026-01-05 20:24:01,998 - task_2 - INFO - 第 5 轮贡献度记录已保存
2026-01-05 20:24:01,998 - task_2 - INFO - 第 5 轮贡献度评估完成: {10: 0.4376572044556234, 4: 0.5623427955443766}
2026-01-05 20:24:01,999 - task_2 - ERROR - 记录全局准确度失败: UNIQUE constraint failed: federation_app_globalaccuracy.task_id, federation_app_globalaccuracy.epoch
2026-01-05 20:24:01,999 - task_2 - INFO - Epoch 5 completed in 5.82 seconds
2026-01-05 20:24:17,003 - task_2 - DEBUG - 任务 2 当前轮次更新为: 5
2026-01-05 20:24:17,003 - task_2 - INFO - 任务 2: 达到最大训练轮数，停止训练
2026-01-05 20:24:17,005 - task_2 - ERROR - 任务 2: 分配股份/奖金失败: 'ContributionManager' object has no attribute 'contribution_data'
2026-01-05 20:24:17,006 - task_2 - ERROR - Traceback (most recent call last):
  File "/home/mastlab/wby/blockfed_new/federation_app/tasks.py", line 190, in _distribute_rewards_or_shares
    total_contribution = self.handle.contribution_manager.contribution_data.get(
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'ContributionManager' object has no attribute 'contribution_data'. Did you mean: 'contribution_file'?

2026-01-05 20:24:17,008 - task_2 - DEBUG - 任务 2 状态更新为: completed
